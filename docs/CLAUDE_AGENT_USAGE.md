# Claude Auto-Dev Agent ä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

æœ¬é¡¹ç›®é›†æˆäº† Claude AI Agentï¼Œå¯ä»¥è‡ªåŠ¨å®ŒæˆåŠŸèƒ½å¼€å‘å’Œ Bug ä¿®å¤ã€‚åªéœ€åœ¨ GitHub Issue ä¸Šæ·»åŠ ç‰¹å®šæ ‡ç­¾ï¼ŒClaude å°±ä¼šè‡ªåŠ¨ï¼š
- åˆ›å»ºå¼€å‘åˆ†æ”¯
- å®ç°åŠŸèƒ½æˆ–ä¿®å¤ Bug
- è¿è¡Œæµ‹è¯•éªŒè¯
- åˆ›å»º Pull Request
- æ›´æ–° Issue çŠ¶æ€

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### åŠŸèƒ½å¼€å‘ï¼ˆPRDï¼‰

1. **åˆ›å»º Issue**ï¼šåœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªæ–° Issue
2. **ç¼–å†™ PRD**ï¼šåœ¨ Issue æ­£æ–‡ä¸­è¯¦ç»†æè¿°åŠŸèƒ½éœ€æ±‚
3. **æ·»åŠ æ ‡ç­¾**ï¼šä¸º Issue æ·»åŠ  `gsd:prd` æ ‡ç­¾
4. **ç­‰å¾…å®Œæˆ**ï¼šClaude ä¼šè‡ªåŠ¨å®Œæˆå¼€å‘å¹¶åˆ›å»º PR

**Issue æ¨¡æ¿ç¤ºä¾‹ï¼š**
```markdown
## åŠŸèƒ½éœ€æ±‚
å®ç°ç”¨æˆ·æ ‡ç­¾å¯¼å‡ºåŠŸèƒ½

## éœ€æ±‚æè¿°
- æ”¯æŒå¯¼å‡ºé€‰ä¸­çš„æ ‡ç­¾ä¸º JSON æ ¼å¼
- å¯¼å‡ºæ–‡ä»¶å‘½åè§„åˆ™ï¼štags_export_YYYYMMDD.json
- åŒ…å«æ ‡ç­¾çš„æ‰€æœ‰å­—æ®µï¼šid, name, category, translations

## éªŒæ”¶æ ‡å‡†
- [ ] å¯ä»¥é€‰æ‹©å¤šä¸ªæ ‡ç­¾è¿›è¡Œå¯¼å‡º
- [ ] å¯¼å‡ºçš„ JSON æ ¼å¼æ­£ç¡®
- [ ] æ–‡ä»¶è‡ªåŠ¨ä¸‹è½½åˆ°æœ¬åœ°
```

### Bug ä¿®å¤

1. **åˆ›å»º Issue**ï¼šåœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªæ–° Issue
2. **æè¿° Bug**ï¼šåŒ…å«é‡ç°æ­¥éª¤ã€æœŸæœ›è¡Œä¸ºã€å®é™…è¡Œä¸º
3. **æ·»åŠ æ ‡ç­¾**ï¼šä¸º Issue æ·»åŠ  `gsd:bugfix` æ ‡ç­¾
4. **ç­‰å¾…å®Œæˆ**ï¼šClaude ä¼šè‡ªåŠ¨è°ƒæŸ¥å¹¶ä¿®å¤ Bug

**Issue æ¨¡æ¿ç¤ºä¾‹ï¼š**
```markdown
## Bug æè¿°
åˆ é™¤æ ‡ç­¾åé¡µé¢æ²¡æœ‰è‡ªåŠ¨åˆ·æ–°

## é‡ç°æ­¥éª¤
1. è¿›å…¥æ ‡ç­¾ç®¡ç†é¡µé¢
2. ç‚¹å‡»æŸä¸ªæ ‡ç­¾çš„åˆ é™¤æŒ‰é’®
3. ç¡®è®¤åˆ é™¤æ“ä½œ
4. è§‚å¯Ÿé¡µé¢çŠ¶æ€

## æœŸæœ›è¡Œä¸º
åˆ é™¤æˆåŠŸåï¼Œæ ‡ç­¾åº”è¯¥ä»åˆ—è¡¨ä¸­æ¶ˆå¤±

## å®é™…è¡Œä¸º
æ ‡ç­¾ä»ç„¶æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­ï¼Œéœ€è¦æ‰‹åŠ¨åˆ·æ–°é¡µé¢æ‰èƒ½æ¶ˆå¤±

## ç¯å¢ƒ
- Browser: Chrome 120
- OS: macOS 14.0
```

## ğŸ·ï¸ æ”¯æŒçš„æ ‡ç­¾

| æ ‡ç­¾ | ç”¨é€” | Claude è¡Œä¸º | æŒ‡ä»¤æ–‡ä»¶ |
|------|------|-------------|----------|
| `gsd:prd` | åŠŸèƒ½å¼€å‘ | å®Œæ•´å¼€å‘æµç¨‹ï¼šåˆ†æéœ€æ±‚ â†’ å®ç° â†’ æµ‹è¯• â†’ PR | `.claude/prd_instructions.md` |
| `gsd:bugfix` | Bug ä¿®å¤ | å®Œæ•´ä¿®å¤æµç¨‹ï¼šé‡ç° â†’ è°ƒæŸ¥ â†’ ä¿®å¤ â†’ æµ‹è¯• â†’ PR | `.claude/bugfix_instructions.md` |

## ğŸ“‹ å·¥ä½œæµç¨‹

### PRD åŠŸèƒ½å¼€å‘æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·åˆ›å»º Issue] --> B[æ·»åŠ  gsd:prd æ ‡ç­¾]
    B --> C[GitHub Actions è§¦å‘]
    C --> D[Claude è¯»å– PRD æŒ‡ä»¤]
    D --> E[åˆ†æéœ€æ±‚å’Œä»£ç åº“]
    E --> F[å®ç°åŠŸèƒ½]
    F --> G[è¿è¡Œæµ‹è¯•éªŒè¯]
    G --> H{æµ‹è¯•é€šè¿‡?}
    H -->|æ˜¯| I[æäº¤ä»£ç ]
    H -->|å¦| F
    I --> J[åˆ›å»º PR]
    J --> K[æ›´æ–° Issue]
    K --> L[ç­‰å¾…äººå·¥å®¡æ ¸]
```

### Bug ä¿®å¤æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·åˆ›å»º Issue] --> B[æ·»åŠ  gsd:bugfix æ ‡ç­¾]
    B --> C[GitHub Actions è§¦å‘]
    C --> D[Claude è¯»å– Bug ä¿®å¤æŒ‡ä»¤]
    D --> E[é‡ç° Bug]
    E --> F[å®šä½æ ¹æœ¬åŸå› ]
    F --> G[å®ç°ä¿®å¤]
    G --> H[éªŒè¯ä¿®å¤]
    H --> I{Bug å·²è§£å†³?}
    I -->|æ˜¯| J[æäº¤ä»£ç ]
    I -->|å¦| G
    J --> K[åˆ›å»º PR]
    K --> L[æ›´æ–° Issue]
    L --> M[ç­‰å¾…äººå·¥å®¡æ ¸]
```

## ğŸ”§ é…ç½®è¯´æ˜

### å¿…éœ€çš„ Secrets

åœ¨ GitHub Repository Settings â†’ Secrets ä¸­é…ç½®ï¼š

- `ANTHROPIC_API_KEY`: Claude API å¯†é’¥
- `GH_PAT_TOKEN`: GitHub Personal Access Tokenï¼ˆéœ€è¦ repo å’Œ pull_request æƒé™ï¼‰

### Runner è¦æ±‚

- **è¿è¡Œç¯å¢ƒ**: self-hosted (Mac)
- **å¿…éœ€å·¥å…·**:
  - `claude` CLI (Claude Code)
  - `gh` CLI (GitHub CLI)
  - `git`
  - Python 3.8+

### éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥ Claude CLI
which claude
claude --version

# æ£€æŸ¥ GitHub CLI
which gh
gh --version

# æ£€æŸ¥ Git
git --version

# æ£€æŸ¥ Python
python3 --version
```

## ğŸ“ æœ€ä½³å®è·µ

### ç¼–å†™å¥½çš„ PRD Issue

âœ… **å¥½çš„ PRD**ï¼š
- æ¸…æ™°çš„åŠŸèƒ½æè¿°
- æ˜ç¡®çš„éªŒæ”¶æ ‡å‡†
- UI/UX è¦æ±‚ï¼ˆå¦‚æœ‰ï¼‰
- æŠ€æœ¯é™åˆ¶æˆ–åå¥½

âŒ **ä¸å¥½çš„ PRD**ï¼š
- "æ·»åŠ ä¸€ä¸ªæ–°åŠŸèƒ½"ï¼ˆå¤ªæ¨¡ç³Šï¼‰
- ç¼ºå°‘éªŒæ”¶æ ‡å‡†
- æ²¡æœ‰è¯´æ˜æœŸæœ›çš„ç”¨æˆ·ä½“éªŒ

### ç¼–å†™å¥½çš„ Bug Issue

âœ… **å¥½çš„ Bug Report**ï¼š
- æ¸…æ™°çš„é‡ç°æ­¥éª¤
- é¢„æœŸå’Œå®é™…è¡Œä¸ºå¯¹æ¯”
- é”™è¯¯ä¿¡æ¯å’Œæˆªå›¾
- ç¯å¢ƒä¿¡æ¯

âŒ **ä¸å¥½çš„ Bug Report**ï¼š
- "ç½‘ç«™åäº†"ï¼ˆå¤ªæ¨¡ç³Šï¼‰
- æ²¡æœ‰é‡ç°æ­¥éª¤
- ç¼ºå°‘ç¯å¢ƒä¿¡æ¯

## ğŸ” ç›‘æ§å’Œè°ƒè¯•

### æŸ¥çœ‹ Claude æ‰§è¡Œæ—¥å¿—

1. è¿›å…¥ Actions æ ‡ç­¾é¡µ
2. é€‰æ‹©å¯¹åº”çš„ workflow run
3. æŸ¥çœ‹ job è¾“å‡ºæ—¥å¿—

### å¸¸è§é—®é¢˜

**Q: Claude åˆ›å»ºäº† PR ä½†æ²¡æœ‰æ›´æ–° Issue**
A: æ£€æŸ¥ GH_PAT_TOKEN æƒé™æ˜¯å¦åŒ…å« issue å†™å…¥æƒé™

**Q: Workflow æ²¡æœ‰è§¦å‘**
A: ç¡®ä¿æ ‡ç­¾åç§°å®Œå…¨åŒ¹é… `gsd:prd` æˆ– `gsd:bugfix`ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰

**Q: Claude è¯´éœ€æ±‚ä¸æ¸…æ™°**
A: Claude ä¼šåœ¨ Issue ä¸­è¯„è®ºè¯¢é—®ï¼Œè¡¥å……ä¿¡æ¯åå®ƒä¼šç»§ç»­å·¥ä½œ

**Q: æµ‹è¯•å¤±è´¥å¯¼è‡´æ²¡æœ‰åˆ›å»º PR**
A: æ£€æŸ¥ workflow æ—¥å¿—ï¼ŒClaude ä¼šè¯´æ˜æµ‹è¯•å¤±è´¥çš„åŸå› 

## ğŸ“š è¿›é˜¶é…ç½®

### è‡ªå®šä¹‰ Claude è¡Œä¸º

ç¼–è¾‘æŒ‡ä»¤æ–‡ä»¶æ¥è°ƒæ•´ Claude çš„è¡Œä¸ºï¼š
- `.claude/prd_instructions.md` - PRD å¼€å‘æµç¨‹
- `.claude/bugfix_instructions.md` - Bug ä¿®å¤æµç¨‹

### æ·»åŠ æ–°çš„æ ‡ç­¾ç±»å‹

1. åœ¨ `.github/workflows/claude_auto_dev.yml` ä¸­æ·»åŠ æ–° job
2. åˆ›å»ºæ–°çš„æŒ‡ä»¤æ–‡ä»¶ï¼ˆå¦‚ `.claude/refactor_instructions.md`ï¼‰
3. é…ç½®è§¦å‘æ¡ä»¶

ç¤ºä¾‹ï¼š
```yaml
refactoring:
  if: github.event.label.name == 'gsd:refactor'
  runs-on: self-hosted
  steps:
    - name: Checkout Repository
      uses: actions/checkout@v4
      with:
        fetch-depth: 1
    
    - name: Claude Refactoring
      env:
        ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
        GH_TOKEN: ${{ secrets.GH_PAT_TOKEN }}
      run: |
        export PATH=$PATH:/opt/homebrew/bin:/usr/local/bin
        claude "@.claude/refactor_instructions.md Handle GitHub Issue #${{ github.event.issue.number }}" \
          --non-interactive
```

## ğŸ¤ äººå·¥å®¡æ ¸

Claude å®Œæˆå·¥ä½œåï¼š

1. **å®¡æ ¸ PR**ï¼šæ£€æŸ¥ä»£ç è´¨é‡å’Œé€»è¾‘æ­£ç¡®æ€§
2. **æµ‹è¯•åŠŸèƒ½**ï¼šæ‰‹åŠ¨éªŒè¯åŠŸèƒ½æ˜¯å¦ç¬¦åˆéœ€æ±‚
3. **æä¾›åé¦ˆ**ï¼šåœ¨ PR ä¸­è¯„è®ºæ”¹è¿›å»ºè®®
4. **åˆå¹¶æˆ–å…³é—­**ï¼šå†³å®šæ˜¯å¦æ¥å— Claude çš„å®ç°

## ğŸ“Š æ•ˆæœè¿½è¸ª

å»ºè®®è¿½è¸ªä»¥ä¸‹æŒ‡æ ‡ï¼š
- Claude æˆåŠŸç‡ï¼ˆåˆ›å»ºçš„ PR æ•° / è§¦å‘æ¬¡æ•°ï¼‰
- PR åˆå¹¶ç‡ï¼ˆåˆå¹¶çš„ PR / åˆ›å»ºçš„ PRï¼‰
- å¹³å‡å¤„ç†æ—¶é—´ï¼ˆä»æ·»åŠ æ ‡ç­¾åˆ° PR åˆ›å»ºï¼‰
- äººå·¥ä¿®æ”¹é¢‘ç‡ï¼ˆåˆå¹¶å‰éœ€è¦ä¿®æ”¹çš„ PR æ¯”ä¾‹ï¼‰

## ğŸ›¡ï¸ å®‰å…¨æ³¨æ„äº‹é¡¹

- âš ï¸ Claude å¯ä»¥ä¿®æ”¹ä»»ä½•æ–‡ä»¶ï¼Œè¯·å®šæœŸå®¡æ ¸ PR
- âš ï¸ ä¸è¦åœ¨å…¬å¼€ Issue ä¸­åŒ…å«æ•æ„Ÿä¿¡æ¯
- âš ï¸ API Key å’Œ Token å¿…é¡»ä¿å­˜åœ¨ Secrets ä¸­
- âš ï¸ å»ºè®®åœ¨æµ‹è¯•åˆ†æ”¯ä¸Šå…ˆéªŒè¯åŠŸèƒ½

## ğŸ“– ç›¸å…³æ–‡æ¡£

- [Claude CLI æ–‡æ¡£](https://docs.anthropic.com/claude/docs)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/actions)
- [GitHub CLI æ–‡æ¡£](https://cli.github.com/manual/)

---

**Happy Coding with Claude! ğŸ‰**
